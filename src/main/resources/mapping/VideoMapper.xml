<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="edu.zhku.jsj144.lzc.video.mapper.VideoMapper">

    <resultMap id="videoMap" type="edu.zhku.jsj144.lzc.video.pojo.Video"/>

	<select id="selectUploadingVideosByUID" resultMap="videoMap">
		select * from `video` where uid = #{uid} order by datetime desc limit #{pstart}, #{psize}
	</select>

    <select id="selectUploadedVideosByUID" resultMap="videoMap">
        select * from `video` where uid = #{uid} order by datetime desc limit #{pstart}, #{psize}
    </select>

    <select id="selectVideosByCID" resultMap="videoMap">
        select * from `video` where cid = #{cid} order by datetime desc limit #{pstart}, #{psize}
    </select>

    <select id="selectVideo" resultType="edu.zhku.jsj144.lzc.video.pojo.Video">
        select * from `video` where id = #{id}
    </select>

	<select id="selectVideosByTitle" resultMap="videoMap">
		select * from `video` where title like #{title} order by datetime desc limit #{pstart}, #{psize}
	</select>
</mapper>